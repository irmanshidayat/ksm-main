# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL - Auto-adjusted berdasarkan environment
# Docker: mysql://root:password@mysql-prod:3306/KSM_main
# Local/XAMPP: mysql://root:@localhost:3306/KSM_main
# CATATAN: XAMPP default port adalah 3306, bukan 3307
DATABASE_URL=mysql://root:@localhost:3306/KSM_main


DB_HOST=localhost
DB_PORT=3306
DB_NAME=KSM_main
DB_USER=root
DB_PASSWORD=

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Configuration - Auto-adjusted berdasarkan environment
# Docker: redis://redis-prod:6379/0
# Local:  redis://localhost:6379/0
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# TASK MANAGEMENT CONFIGURATION
# =============================================================================

TASK_MAX_ATTACHMENT_SIZE_MB=5
TASK_ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,docx,xlsx
TASK_NOTIFICATION_EMAIL_ENABLED=true

# =============================================================================
# QDRANT CONFIGURATION
# =============================================================================

QDRANT_URL=your_qdrant_url_here
QDRANT_API_KEY=your_qdrant_api_key_here

# =============================================================================
# EMBEDDING CONFIGURATION
# =============================================================================

EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536
EMBEDDING_BATCH_SIZE=100
EMBEDDING_MAX_RETRIES=3
EMBEDDING_TIMEOUT=30
EMBEDDING_CACHE_MAX_SIZE=1000
EMBEDDING_CACHE_TTL=3600

# Qdrant Vector Configuration
QDRANT_VECTOR_SIZE=1536
QDRANT_BATCH_SIZE=100
QDRANT_COLLECTION_PREFIX=KSM

# Chunking Configuration
CHUNK_SIZE=800
CHUNK_OVERLAP=100

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================

# Flask Environment - Auto-adjusted berdasarkan environment
# Docker: FLASK_ENV=production, FLASK_DEBUG=False
# Local:  FLASK_ENV=development, FLASK_DEBUG=True
FLASK_ENV=development
FLASK_DEBUG=True
SECRET_KEY=your_secret_key_here

# =============================================================================
# JWT CONFIGURATION
# =============================================================================

JWT_SECRET_KEY=KSM-jwt-secret-key-2024-super-secure
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

# =============================================================================
# TELEGRAM RAG CONFIGURATION
# =============================================================================

TELEGRAM_RAG_TOP_K=8
TELEGRAM_RAG_SIMILARITY_THRESHOLD=0.3
TELEGRAM_RAG_MAX_CONTEXT=8000
RAG_SIMILARITY_THRESHOLD=0.3
TELEGRAM_RAG_CACHE_TTL=1800
TELEGRAM_RESPONSE_CACHE_TTL=300
TELEGRAM_ENABLE_RAG_FALLBACK=true
TELEGRAM_ENABLE_AGENT_AI_FALLBACK=true

# =============================================================================
# AGENT AI CONFIGURATION
# =============================================================================

# Agent AI URL - Auto-adjusted berdasarkan environment
# Docker: http://agent-ai-prod:5000
# Local:  http://localhost:5000
AGENT_AI_URL=http://localhost:5000
AGENT_AI_BASE_URL=http://localhost:5000
AGENT_AI_API_KEY=KSM_api_key_2ptybn
AGENT_AI_REPORT_ENDPOINT=/api/report/daily-task

# =============================================================================
# DAILY TASK NOTIFICATION CONFIGURATION
# =============================================================================

TELEGRAM_BOT_TOKEN=8264344936:AAHBfdR91MnivmVYVKvQGhRYAzjKZYz4MoY
TELEGRAM_DEFAULT_CHAT_ID=2054126414
ADMIN_ALERT_CHAT_ID=2054126414
TIMEZONE=Asia/Jakarta
SCHEDULER_ENABLED=true
DAILY_REPORT_TIME=11:34
REPORT_ENABLED=true
REPORT_FREQUENCY=daily
REPORT_WEEKDAYS_ONLY=true
ERROR_NOTIFICATION_ENABLED=true
ERROR_NOTIFICATION_METHOD=telegram

# =============================================================================
# REMIND EXP DOCS CONFIGURATION
# =============================================================================

REMIND_EXP_NOTIFICATIONS_ENABLED=true
REMIND_EXP_DAYS_AHEAD=30
REMIND_EXP_URGENT_DAYS=7
REMIND_EXP_NOTIFICATION_TIME=11:35
REMIND_EXP_NOTIFICATION_TYPES=reminder,urgent,statistics,bulk_import
REMIND_EXP_MESSAGE_FORMAT=markdown
REMIND_EXP_RETRY_ATTEMPTS=3
REMIND_EXP_RETRY_DELAY=5
DEFAULT_COMPANY_ID=PT. Kian Santang Muliatama
TELEGRAM_SETTINGS_TABLE=telegram_settings
REMIND_EXP_SCHEDULER_ENABLED=true
REMIND_EXP_SCHEDULER_TIMEZONE=Asia/Jakarta
REMIND_EXP_NOTIFICATION_FREQUENCY=daily
REMIND_EXP_WEEKDAYS_ONLY=true
REMIND_EXP_AUTO_NOTIFY_CREATE=true
REMIND_EXP_AUTO_NOTIFY_BULK_IMPORT=true
REMIND_EXP_AUTO_NOTIFY_UPDATE=false
REMIND_EXP_AUTO_NOTIFY_DELETE=false

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

AI_PROVIDER=openrouter
OPENROUTER_API_KEY=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
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
DEFAULT_TEXT_MODEL=google/gemini-2.5-flash-preview-09-2025
DEFAULT_EMBEDDINGS_MODEL=google/gemini-2.5-flash-preview-09-2025
DEFAULT_FALLBACK_MODEL=google/gemini-2.5-flash-preview-09-2025
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=2000
AI_TOP_P=0.9

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

FROM_NAME=KSM Procurement System
EMAIL_DOMAIN_ENCRYPTION_KEY=dP8HWNAfLPU4c46Tm6agow--LBCFlLqE4m1EjyyukSo=
EMAIL_DOMAIN_MAX_CONFIGS_PER_USER=5
EMAIL_DOMAIN_TLS_INSECURE=false

# =============================================================================
# GMAIL API CONFIGURATION
# =============================================================================

GMAIL_CLIENT_ID=your_google_client_id_here
GMAIL_CLIENT_SECRET=your_google_client_secret_here
# Redirect URI - Auto-adjusted berdasarkan environment
# Docker: http://localhost:3002/request-pembelian/auth/gmail/callback
# Local:  http://localhost:3000/request-pembelian/auth/gmail/callback
GMAIL_REDIRECT_URI=http://localhost:3000/request-pembelian/auth/gmail/callback
GMAIL_SCOPES=https://www.googleapis.com/auth/gmail.send,https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/userinfo.profile
GMAIL_ENABLED=true
GMAIL_TIMEOUT=30
GMAIL_RETRY_ATTEMPTS=3

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS Origins - Auto-adjusted berdasarkan environment
# Docker: http://localhost:3002,http://localhost:8001,http://localhost:5001
# Local:  http://localhost:3000,http://localhost:3004,http://localhost:8000,http://localhost:5000
CORS_ORIGINS=http://localhost:3000,http://localhost:3004,http://localhost:8000,http://localhost:5000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level - Auto-adjusted berdasarkan environment
# Docker: LOG_LEVEL=INFO
# Local:  LOG_LEVEL=DEBUG
LOG_LEVEL=DEBUG
