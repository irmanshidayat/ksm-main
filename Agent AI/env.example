# =============================================================================
# AGENT AI - ENVIRONMENT CONFIGURATION
# =============================================================================
#
# INSTRUKSI SETUP:
# ================
#
# DEVELOPMENT (XAMPP Lokal):
# ---------------------------
# 1. Copy file ini ke .env: cp env.example .env
# 2. Gunakan konfigurasi untuk XAMPP lokal:
#    - DB_HOST=localhost
#    - DB_PORT=3306 (XAMPP default)
#    - DB_PASSWORD= (kosong, XAMPP default)
#    - REDIS_URL=redis://localhost:6379/0 (jika Redis diinstall lokal)
# 3. Jalankan aplikasi secara lokal (tidak perlu Docker)
# 4. Aplikasi akan otomatis detect sebagai "local" environment
#
# PRODUCTION (Docker):
# --------------------
# 1. Copy file ini ke .env di Agent AI/: cp env.example .env
# 2. Konfigurasi akan otomatis disesuaikan saat running di Docker
# 3. Docker akan menggunakan service names (mysql-prod, redis-prod)
# 4. Aplikasi akan otomatis detect sebagai "docker" environment
#
# AUTO-DETECTION:
# ===============
# Aplikasi akan otomatis mendeteksi environment berdasarkan:
# - Docker: Jika ada file /.dockerenv atau service name di hostname
# - Local: Default jika tidak detect Docker
# - Manual override: Set RUN_MODE=docker atau RUN_MODE=local
#
# =============================================================================

# =============================================================================
# ENVIRONMENT MODE (Optional - Auto-detected jika tidak di-set)
# =============================================================================

# RUN_MODE=docker  # Uncomment untuk force Docker mode
# RUN_MODE=local   # Uncomment untuk force Local mode

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================

SECRET_KEY=your_secret_key_here
# Debug mode - Auto-adjusted berdasarkan environment
# Docker: AGENT_AI_DEBUG=false
# Local:  AGENT_AI_DEBUG=true
AGENT_AI_DEBUG=true
AGENT_AI_HOST=0.0.0.0
AGENT_AI_PORT=5000

# =============================================================================
# DATABASE CONFIGURATION (Shared dengan KSM Main)
# =============================================================================

# MySQL Database Configuration - Auto-adjusted berdasarkan environment
# Docker: DB_HOST=mysql-prod, DB_PORT=3306, DB_PASSWORD=password
# Local:  DB_HOST=localhost, DB_PORT=3306, DB_PASSWORD=
DB_HOST=localhost
DB_PORT=3306
DB_NAME=KSM_main
DB_USER=root
DB_PASSWORD=

# Database URL - Auto-adjusted berdasarkan environment
# Docker: mysql://root:password@mysql-prod:3306/KSM_main
# Local:  mysql://root:@localhost:3306/KSM_main
DATABASE_URL=mysql://root:@localhost:3306/KSM_main

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Configuration - Auto-adjusted berdasarkan environment
# Docker: redis://redis-prod:6379/0
# Local:  redis://localhost:6379/0
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# OpenRouter API Key (alternatif)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Default Models
DEFAULT_MODEL=gpt-4o-mini
DEFAULT_EMBEDDING_MODEL=text-embedding-3-small

# Model Parameters
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=2000
AI_TOP_P=0.9

# =============================================================================
# RAG CONFIGURATION
# =============================================================================

# RAG Context Processing
RAG_MAX_CONTEXT_LENGTH=8000
RAG_MIN_SIMILARITY=0.5
RAG_MAX_CHUNKS=10

# RAG Response Generation
RAG_RESPONSE_TEMPERATURE=0.7
RAG_RESPONSE_MAX_TOKENS=1500

# =============================================================================
# COMPANY CONFIGURATION
# =============================================================================

# Default Company ID
DEFAULT_COMPANY_ID=PT. Kian Santang Muliatama

# =============================================================================
# TELEGRAM CONFIGURATION
# =============================================================================

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBHOOK_URL=https://your-domain.com/api/telegram/webhook

# Telegram Response Settings
TELEGRAM_MAX_RESPONSE_LENGTH=4000
TELEGRAM_RESPONSE_TIMEOUT=30

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Settings
AGENT_AI_API_KEY=KSM_api_key_2ptybn
KSM_API_KEY=KSM_api_key_development
API_TIMEOUT=30

# CORS Settings - Auto-adjusted berdasarkan environment
# Docker: http://localhost:3002,http://localhost:8001,http://localhost:5001
# Local:  http://localhost:3000,http://localhost:8000,http://localhost:5000
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:5000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level - Auto-adjusted berdasarkan environment
# Docker: LOG_LEVEL=INFO
# Local:  LOG_LEVEL=DEBUG
LOG_LEVEL=DEBUG
LOG_FILE=agent_ai.log

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache Settings
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Monitoring Settings
MONITORING_ENABLED=true
METRICS_ENABLED=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security Settings
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# Input Validation
MAX_MESSAGE_LENGTH=4000
MAX_CONTEXT_LENGTH=10000
